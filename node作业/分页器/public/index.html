<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="./javascripts/jquery-3.2.1.min.js"></script>
    <style>
        *{
            padding: 0;
            margin: 0;
            list-style: none;
        }
        ul{
            width:800px;
            margin: 50px auto;
            overflow: hidden;
        }
        li{
            width: 190px;
            margin-right: 10px;
            float: left;
        }
        ul li img{
            width:190px;
        }
        ul li p{
            margin: 10px 0;
            font-size: 14px;
            color:#666;
        }
        ul li h6{
            margin-bottom: 10px;
        }
        ul li h6 span{
            width:100%;
            text-align: center;
            height:30px;
            line-height: 30px;
        }
        ul li button{
            width: 100%;
            background: red;
            height:30px;
            line-height: 30px;
        }
        div{
            width: 300px;
            overflow: hidden;
            margin: 30px auto;
        }
        div button{
            width: 30px;
            display: inline-block;
            margin: 10px;

        }
    </style>
</head>
<body>
<ul>


</ul>
<div>

</div>
</body>
<script>
    $.ajax({
        type:'post',
        url:'/',
        success:function (data) {
            var a=Math.ceil(data.length/4);
            console.log(a);
            for (let i=1;i<=a;i++) {
                var $a=($('<button class=b2>'+i+'</button>'));
                $a.appendTo($('div'));
                $('.b2').click(function () {
                    $.ajax({
                        type:'post',
                        url:'/b1',
                        data:{bt:$(this).text()},
                        success:function (data) {
                            $('ul').html('');
                            data.forEach(function (item) {
                                var $li=$('<li></li>');
                                var $img=$('<img src=./images/'+item.src+'>');
                                var $p=$('<p>'+item.text+'</p>');
                                var $h6=$('<h6></h6>');
                                $h6.html('活动价格:');
                                var $sp=$('<span></span>');
                                $sp.html(item.prise);
                                $button=$('<button></button>');
                                $button.html('立即购买');
                                $sp.appendTo($h6);
                                $li.append($img,$p,$h6,$button);
                                $li.appendTo($('ul'));
                            });
                        }
                    })
                })
            }
            // $('.b2').click(function () {
            //     console.log('2')
            //     $.ajax({
            //         type:'post',
            //         url:'/b1',
            //         data:{bt:$(this).text()},
            //         success:function (data) {
            //             $('ul').html('');
            //             data.forEach(function (item) {
            //                 var $li=$('<li></li>');
            //                 var $img=$('<img src=./images/'+item.src+'>');
            //                 var $p=$('<p>'+item.text+'</p>');
            //                 var $h6=$('<h6></h6>');
            //                 $h6.html('活动价格:');
            //                 var $sp=$('<span></span>');
            //                 $sp.html(item.prise);
            //                 $button=$('<button></button>');
            //                 $button.html('立即购买');
            //                 $sp.appendTo($h6);
            //                 $li.append($img,$p,$h6,$button);
            //                 $li.appendTo($('ul'));
            //             });
            //         }
            //     })
            // })
        }
    });
    $.ajax({
        type:'post',
        url:'/shopping',
        success:function (data) {
            console.log(data);
            data.forEach(function (item) {
                var $li=$('<li></li>');
                var $img=$('<img src=./images/'+item.src+'>');
                var $p=$('<p>'+item.text+'</p>');
                var $h6=$('<h6></h6>');
                $h6.html('活动价格:');
                var $sp=$('<span></span>');
                $sp.html(item.prise);
                $button=$('<button></button>');
                $button.html('立即购买');
                $sp.appendTo($h6);
                $li.append($img,$p,$h6,$button);
                $li.appendTo($('ul'));
            });



        }
    })

</script>
</html>